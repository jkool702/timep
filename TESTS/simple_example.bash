testfunc() { 
f() { echo "f: $*"; }
g() ( echo "g: $*"; )
h() { 
	echo "h: $*"; 
	f "$@"; 
	g "$@";
}

echo 0
{ echo 1; }
( echo 2 )
echo 3 &
{ echo 4; } &

echo 5 | cat | tee

for (( kk=6; kk<10; kk++ )); do
	echo $kk
	h $kk
	for jj in {1..3}; do
		f $kk $jj
		g $kk $jj
	done
done
}


timep testfunc


:<<'EOF'

0.0:                    (0.026033s|100.00%)     (0.021586s|100.00%)     (1x) << (FUNCTION): testfunc "${@}" >>
|-- 1.0:                (0.000059s|00.22%)      (0.000070s|00.32%)      (1x) testfunc "${@}"
|
|   8.0:                (0.000063s|00.24%)      (0.000075s|00.34%)      (1x) echo 0
|
|   9.0:                (0.000471s|01.80%)      (0.000374s|01.73%)      (1x) echo 1
|
|   10.0:               (0.000071s|00.27%)      (0.000084s|00.38%)      (1x) << (SUBSHELL) >>
|   |-- 10.0:           (0.000071s|100.00%|00.27%)      (0.000084s|100.00%|00.38%)      (1x) echo 2
|
|   11.0:               (0.000477s|01.83%)      (0.000495s|02.29%)      (1x) echo 3
|
|   12.0:               (0.000074s|00.28%)      (0.000086s|00.39%)      (1x) << (BACKGROUND FORK) >>
|   |-- 12.0:           (0.000074s|100.00%|00.28%)      (0.000086s|100.00%|00.39%)      (1x) echo 4
|
|   13.0:               (0.003703s|14.22%)      (0.002348s|10.87%)      (1x) echo 5 | cat | tee
|
|   15.1:               (0.000289s|01.11%)      (0.000341s|01.57%)      (1x) ((kk<10))
|
|   16.0:               (0.000240s|00.92%)      (0.000288s|01.33%)      (1x) echo $kk
|
|   17.0:               (0.005110s|19.62%)      (0.005071s|23.49%)      (1x) << (FUNCTION): h $kk >>
|   |-- 1.0:            (0.000212s|04.50%|00.81%)       (0.000256s|05.55%|01.18%)       (1x) h $kk
|   |   8.0:            (0.000255s|05.44%|00.97%)       (0.000299s|06.51%|01.38%)       (1x) echo "h: $*"
|   |   9.0:            (0.000507s|10.59%|01.94%)       (0.000598s|12.76%|02.77%)       (1x) << (FUNCTION): f "$@" >>
|   |   |-- 1.0:        (0.000224s|44.23%|00.86%)       (0.000272s|45.52%|01.26%)       (1x) f "$@"
|   |   |-- 8.0:        (0.000283s|55.76%|01.08%)       (0.000326s|54.46%|01.51%)       (1x) echo "f: $*"
|   |   10.0:           (0.004136s|79.44%|15.88%)       (0.003918s|75.15%|18.15%)       (1x) << (FUNCTION): g "$@" >>
|   |   |-- 1.0:        (0.003483s|84.40%|13.37%)       (0.003163s|80.60%|14.65%)       (1x) g "$@"
|   |   |   347.0:      (0.000653s|15.58%|02.50%)       (0.000755s|19.38%|03.49%)       (1x) << (SUBSHELL) >>
|   |-- |-- |-- 347.0:  (0.000653s|100.00%|02.50%)      (0.000755s|100.00%|03.49%)      (1x) echo "g: $*"
|
|   18.0:               (0.000710s|02.72%)      (0.000836s|03.87%)      (1x) for jj in {1..3}
|
|   19.0:               (0.001554s|05.96%)      (0.001837s|08.51%)      (1x) << (FUNCTION): f $kk $jj >>
|   |-- 1.0:            (0.000652s|42.55%|02.50%)       (0.000788s|43.39%|03.65%)       (1x) f $kk $jj
|   |-- 8.0:            (0.001185s|56.59%|04.55%)       (0.001375s|55.52%|06.36%)       (2x) echo "f: $*"
|
|   20.0:               (0.008553s|32.85%)      (0.007669s|35.52%)      (1x) << (FUNCTION): g $kk $jj >>
|   |-- 1.0:            (0.007259s|85.08%|27.88%)       (0.006172s|80.41%|28.59%)       (1x) g $kk $jj
|   |   347.0:          (0.001947s|15.24%|07.47%)       (0.002252s|19.47%|10.43%)       (2x) << (SUBSHELL) >>
|   |-- |-- 347.0:      (0.001294s|100.00%|04.97%)      (0.001497s|100.00%|06.93%)      (1x) echo "g: $*"
|-- |   (0.001947s|66.66%|07.47%)       (0.002252s|66.66%|10.43%)       (3x) |-- |
|



TOTAL RUN TIME: 0.026033s
TOTAL CPU TIME: 0.021586s

EOF
